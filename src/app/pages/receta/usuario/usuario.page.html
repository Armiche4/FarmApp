<ion-header>
  <ion-toolbar color="primary">
    <ion-title *ngIf="estaReceta">{{estaReceta.nombre}}</ion-title>

    <ion-buttons slot="start">
      <ion-back-button defaultHref="/receta"></ion-back-button>
    </ion-buttons >

    <ion-buttons slot="end" *ngIf="estaReceta" [routerLink]="['/receta', estaReceta.cip,'modificar-receta']">
      <ion-button >
        <ion-icon name="create">

        </ion-icon>
      </ion-button>
    </ion-buttons>

    <ion-buttons slot="end" (click)="deleteUsuario()">
      <ion-button >
        <ion-icon name="trash">

        </ion-icon>
      </ion-button>
    </ion-buttons>
    
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col>
     <ion-img *ngIf="estaReceta" [src]="estaReceta.foto"></ion-img> 
    </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
     <h1 *ngIf="estaReceta" class="ion-text-center">{{estaReceta.cip}}</h1> 
    </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
     <ion-list  *ngIf="estaReceta && estaReceta.medicamentos.length>0; else noMedicamentos">
       <ion-card *ngFor="let medicina of estaReceta.medicamentos">
       <ion-card-content>
          <img [src]="medicina.foto">
          <ion-item color="secondary">
        <ion-label> <h2>{{medicina.nombre}}</h2>
          <p>CN: {{medicina.cn}}</p>
        </ion-label>
     
      
  
    
        
      

      </ion-item>
      <ion-button  slot="end"  [routerLink]="['/receta', estaReceta.cip,medicina.cn]">
        <ion-icon name="create"></ion-icon>
       
        
      </ion-button>

      <ion-button  slot="end" (click)="deleteMedicamento(medicina.cn)">
        <ion-icon name="trash">
       
        </ion-icon>
      </ion-button>

      </ion-card-content>
    
   
    
    
     </ion-card>
    </ion-list>
     <ng-template #noMedicamentos>
       <p class="ion-text-center">No hay medicinas por el momento</p>
     </ng-template>
    </ion-col>
    </ion-row>

  </ion-grid>
  <ion-fab horizontal="end" vertical="bottom" slot="fixed">
    <ion-fab-button *ngIf="estaReceta" color="secondary" [routerLink]="['/receta', estaReceta.cip,'agregar-medicina']">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>

</ion-content>
